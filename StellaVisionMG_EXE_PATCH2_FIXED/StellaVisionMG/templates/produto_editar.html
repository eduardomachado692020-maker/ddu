{% extends "base.html" %}
{% block content %}
<h4 class="mb-3">Editar Produto</h4>
<form method="post">
  <div class="row g-2">
    <div class="col-md-4">
      <label class="form-label">Nome</label>
      <input name="nome" class="form-control" required value="{{ produto.nome }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Categoria</label>
      <input name="categoria" class="form-control" value="{{ produto.categoria or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Plataforma</label>
      <input name="plataforma" class="form-control" value="{{ produto.plataforma or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Modelo</label>
      <input name="modelo" class="form-control" value="{{ produto.modelo or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Capacidade</label>
      <input name="capacidade" class="form-control" value="{{ produto.capacidade or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Cor</label>
      <input name="cor" class="form-control" value="{{ produto.cor or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Região</label>
      <input name="regiao" class="form-control" value="{{ produto.regiao or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Condição</label>
      <select name="condicao" class="form-select">
        <option value="NOVO" {% if produto.condicao == 'NOVO' %}selected{% endif %}>NOVO</option>
        <option value="USADO" {% if produto.condicao == 'USADO' %}selected{% endif %}>USADO</option>
      </select>
    </div>
    <div class="col-md-2">
      <label class="form-label">Preço de tabela (R$)</label>
      <input type="number" step="0.01" name="preco_lista" class="form-control" value="{{ produto.preco_lista }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Custo base (R$)</label>
      <input type="number" step="0.01" name="custo_base" class="form-control" value="{{ produto.custo_base or '' }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Estoque mínimo</label>
      <input type="number" name="estoque_minimo" class="form-control" value="{{ produto.estoque_minimo or 0 }}">
    </div>
    <div class="col-md-2">
      <label class="form-label">Estoque atual</label>
      <input type="number" name="estoque_atual" class="form-control" value="{{ produto.estoque_atual or 0 }}">
    </div>
  </div>
  <hr>
  <div class="mb-2">
    <label class="form-label">SKU (editável)</label>
    <input name="sku" class="form-control" value="{{ produto.sku }}">
  </div>
  <hr>
  <h6>Fornecedor (inline)</h6>
  <div class="row g-2">
    <div class="col-md-3">
      <input name="fornecedor_nome" class="form-control" placeholder="Nome (novo ou existente)" value="{{ fornecedor.nome if fornecedor else '' }}">
    </div>
    <div class="col-md-2">
      <input name="fornecedor_cidade" class="form-control" placeholder="Cidade" value="{{ fornecedor.cidade if fornecedor else '' }}">
    </div>
    <div class="col-md-2">
      <input name="fornecedor_telefone" class="form-control" placeholder="Telefone" value="{{ fornecedor.telefone if fornecedor else '' }}">
    </div>
    <div class="col-md-3">
      <input name="fornecedor_email" class="form-control" placeholder="Email" value="{{ fornecedor.email if fornecedor else '' }}">
    </div>
    <div class="col-md-2">
      <input name="fornecedor_doc" class="form-control" placeholder="Documento" value="{{ fornecedor.doc if fornecedor else '' }}">
    </div>
  </div>
  <button class="btn btn-primary mt-2">Salvar alterações</button>
  <a href="{{ url_for('produtos') }}" class="btn btn-secondary mt-2">Cancelar</a>
</form>
{% endblock %}